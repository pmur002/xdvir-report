
digraph G {

    graph [ nodesep = .5 ];
    node [style = filled; fillcolor = white,
          fontcolor = black, fontsize = 12 ];
    edge [fontcolor = black, fontsize = 12 ];

    doc  [ label="TeX Document", shape = box ];
    dvi  [ label="DVI file", shape = box ];

    doc -> dvi [ label = "typeset()", fontname = courier ];

    subgraph clusterR {
        frag [ label="TeX string" ];
        docr [ label="TeX Document" ];
        dvir [ label="DVI object" ];
        grob;

        frag -> doc  [ label = " author()", fontname = courier ];
        frag -> docr [ label = "author()", fontname = courier ];

        docr -> dvir [ style = "invis" ];

        docr -> dvi  [ label = " typeset()", fontname = courier ];
        frag -> grob [ xlabel="latexGrob()", fontname = courier ];
        dvi -> dvir  [ label = " readDVI()", fontname = courier ];
        dvir -> grob [ label="dviGrob()", fontname = courier ];

        color = grey;
        fill = grey;
        style = "filled";
        label = "R";
        fontcolor = white;
        fontname = "sans";
        labelloc = "top";
        labeljust = "l";

        { rank = same; frag; docr; dvir; grob }
    }

    { rank = same; doc; dvi }
}
    